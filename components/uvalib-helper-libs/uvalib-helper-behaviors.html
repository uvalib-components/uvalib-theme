<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="lodash.html">

<script>
  /**
   * @demo demo/index.html
   * @polymerBehavior uvalibbehaviors.helpers
   */
  window.uvalibbehaviors = window.uvalibbehaviors || {};
  uvalibbehaviors.helpers = {
    _first: function(list){
      return _.first(list)
    },
    _equals: function(t1, t2) {
      return (t1 == t2);
    },
    _multiple: function(list) {
      return list.length>1;
    },
    _or: function(t1, t2){
      return (t1 || t2);
    },
    _and: function(t1,t2){
      return (t1 && t2);
    },
    _random: function(list){
      if(_.isArray(list)) {
        var tmp = _.without(list, [undefined]);
        if (tmp.length>1) return tmp[_.random(tmp.length-1)]
        else if (tmp.length=1) return tmp[0];
        else return null;
      } else return null;
    },
    _stripHTML: function(html){
      var div = document.createElement("div");
      div.innerHTML = html;
      return div.textContent || div.innerText || "";    
    },
    _truncate: function(s, l){
      return _.truncate(s, {'length': l, 'separator': ' '});
    },
    _stripAndTruncate: function(s, l){
      return this._truncate(this._stripHTML(s), l);
    },
    _decodeHtml: function(html) {
      var txt = document.createElement("textarea");
      txt.innerHTML = html;
      return txt.value;
    }
  };

</script>
